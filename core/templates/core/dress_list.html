{% extends 'core/base.html' %}
{% block title %}Dress Collection{% endblock %}

{% block content %}
<div class="home-bg">
<div class="container mb-5">

    <h1 class="text-center fw-bold mb-5 text-white">
    ✨ Our Dress Collection
</h1>

    {% if price_categories.budget %}
    <section class="mb-5">
        <h3 class="category-title text-success">Budget Collection (₹0 - ₹499)</h3>
        <div class="row g-4">
            {% for dress in price_categories.budget %}
                {% include 'core/dress_card.html' %}
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if price_categories.mid_range %}
    <section class="mb-5">
        <h3 class="category-title text-info">Mid-Range Collection (₹500 - ₹999)</h3>
        <div class="row g-4">
            {% for dress in price_categories.mid_range %}
                {% include 'core/dress_card.html' %}
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if price_categories.premium %}
    <section class="mb-5">
        <h3 class="category-title text-warning">Premium Collection (₹1000 - ₹1999)</h3>
        <div class="row g-4">
            {% for dress in price_categories.premium %}
                {% include 'core/dress_card.html' %}
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if price_categories.luxury %}
    <section class="mb-5">
        <h3 class="category-title text-danger">Luxury Collection (₹2000+)</h3>
        <div class="row g-4">
            {% for dress in price_categories.luxury %}
                {% include 'core/dress_card.html' %}
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if not dresses %}
        <div class="alert alert-info text-center">
            No dresses available yet
        </div>
    {% endif %}

</div>

<!-- MODAL -->
<div class="modal fade" id="dressModal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content shadow-lg">
            <div class="modal-header border-0">
                <h5 class="modal-title fw-bold" id="dressModalLabel"></h5>
                <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">
                <div class="d-flex flex-wrap gap-3 mb-3" id="modalImages"></div>

                <p id="modalPrice"></p>
                <p id="modalDescription"></p>

                <div>
                    <strong>Available Sizes</strong>
                    <div class="mt-2" id="modalSizes"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- FULLSCREEN IMAGE MODAL -->
<div class="modal fade" id="imagePreviewModal" tabindex="-1">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content bg-dark">
            <div class="modal-header border-0">
                <button type="button"
                        class="btn-close btn-close-white ms-auto"
                        data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body d-flex justify-content-center align-items-center">
                <img id="previewImage" class="preview-image" src="">
            </div>
        </div>
    </div>
</div>
</div>

{% endblock %}
